"use strict";(self.webpackChunknaja=self.webpackChunknaja||[]).push([[459],{8554:(e,s,t)=>{t.r(s),t.d(s,{default:()=>u});t(7609);var a=t(5475),o=t(5043),n=t(6213),r=t(7990),l=t.n(r),c=(t(6209),t(9495),t(241)),i=t(4282),d=t(2064),h=t(579);const u=function(){const[e,s]=(0,o.useState)(""),[r,u]=(0,o.useState)(""),[m,g]=(0,o.useState)(""),[p,x]=(0,o.useState)(!1),[j,v]=(0,o.useState)(""),w=()=>{const e=new(l()),s=navigator.userAgent,t=e.parse(s);return{deviceType:t.device.type||"unknown",os:t.os.name||"unknown",osVersion:t.os.version||"unknown",browser:t.client.name||"unknown",browserVersion:t.client.version||"unknown"}},[_,f]=(0,o.useState)("");return(0,o.useEffect)((()=>{fetch("https://api.ipify.org?format=text").then((e=>e.text())).then((e=>{f(e)})).catch((e=>console.error("Error fetching IP address:",e)))}),[]),(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("section",{className:"margin_section",children:[(0,h.jsx)("div",{className:"container text-center",children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-lg-1"}),(0,h.jsxs)("div",{className:"col-lg-5 col-md-6 col-sm-12 box_purple_auth",children:[(0,h.jsxs)("div",{className:"",children:[(0,h.jsxs)("div",{className:"hello_logo_auth_cont",children:[(0,h.jsx)("p",{className:"hi_auth",children:"\u0645\u0631\u062d\u0628\u0627\u064b \u0628\u0643"}),(0,h.jsx)("img",{src:t(8360),alt:"logo-no-background.png logo",className:"img-fluid logo_auth",loading:"lazy"})]}),(0,h.jsx)("div",{children:(0,h.jsx)(a.N_,{to:"/signup",children:(0,h.jsx)("button",{type:"button",className:"btn auth_btn",children:"\u0625\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628"})})})]})," "]}),(0,h.jsxs)("div",{className:"col-lg-5 col-md-6 col-sm-12 cont_input_auth ",children:[(0,h.jsxs)("div",{className:"row m-5",children:[(0,h.jsx)("p",{className:"title_of_input_auth",children:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a"}),(0,h.jsx)("input",{type:"text",className:"search_blog ".concat(m&&"error_input"),value:e,onChange:e=>s(e.target.value)})]}),(0,h.jsxs)("div",{className:"row m-5",children:[(0,h.jsx)("p",{className:"title_of_input_auth",children:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"}),(0,h.jsx)("input",{type:"password",className:"search_blog ".concat(m&&"error_input"),value:r,onChange:e=>u(e.target.value)}),(0,h.jsx)(a.N_,{to:"/forgotpassword",className:"forget_pass_auth",children:"\u0646\u0633\u064a\u062a \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631\u061f"}),"              "]}),m&&(0,h.jsx)("p",{className:"error_message",children:m}),(0,h.jsx)("button",{type:"button",onClick:async s=>{s.preventDefault();const t=w();try{const s=await n.A.post("".concat(d.H,"/users/login"),{email:e,password:r,ip:_},{headers:{"Device-Info":JSON.stringify(t)}});s.data.token&&(localStorage.setItem("auth",s.data.token),localStorage.setItem("name",s.data.name),localStorage.setItem("id",s.data.id),localStorage.setItem("img",s.data.img),window.location.href="/")}catch(a){console.error("Login error:",a),a.response&&403===a.response.status?g("Login not allowed from this device"):g("Invalid email or password")}},className:"btn purple_btn mb-2",children:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"})]}),(0,h.jsx)("div",{className:"col-lg-1"})]})}),(0,h.jsxs)(c.A,{show:p,onHide:()=>x(!1),children:[(0,h.jsx)(c.A.Header,{children:(0,h.jsx)(c.A.Title,{children:" \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"})}),(0,h.jsx)(c.A.Body,{children:j}),(0,h.jsx)(c.A.Footer,{children:(0,h.jsx)(i.A,{style:{backgroundColor:"#833988",border:"none",textAlign:"center"},onClick:async s=>{s.preventDefault();const t=w();try{const s=await n.A.post("".concat(d.H,"/users/login"),{email:e,password:r,ip:_},{headers:{"Device-Info":JSON.stringify(t)}});s.data.token&&(localStorage.setItem("auth",s.data.token),localStorage.setItem("name",s.data.name),localStorage.setItem("id",s.data.id),localStorage.setItem("img",s.data.img),window.location.href="/")}catch(a){console.error("Login error:",a),a.response&&403===a.response.status?g("Login not allowed from this device"):g("Invalid email or password")}},children:"close          "})})]})]})})}},7609:()=>{}}]);
//# sourceMappingURL=459.dd3c7c17.chunk.js.map