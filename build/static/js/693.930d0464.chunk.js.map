{"version":3,"file":"static/js/693.930d0464.chunk.js","mappings":"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","sources":["Pages/MyCourseDetail.js","components/CommentForm.js","components/Rating.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useContext } from \"react\";\r\nimport \"../Css/courseDetails.css\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport Tabs from \"../Pages/Tabs.js\";\r\nimport Tab from \"../Pages/Tab.js\";\r\nimport CommentForm from \"../components/CommentForm.js\";\r\nimport { IoIosArrowDown } from \"react-icons/io\";\r\n\r\nimport Rating from \"../components/Rating.js\";\r\n\r\nimport axios from \"axios\";\r\nimport { UserContext } from \"../UserContext.js\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport \"../Css/courses.css\";\r\nimport MiniPopUpLogin from \"../components/MiniPopUpLogin.js\";\r\nimport MiniPopUpConfirm from \"../components/MiniPopUpConfirm.js\";\r\nimport ReadMoreReact from \"read-more-react\";\r\nimport { API_URL } from \"../App.js\";\r\n\r\nfunction MyCourseDetail() {\r\n  const { id } = useParams();\r\n  const [courseDetails, setCourseDetails] = useState([]);\r\n  const [videosData, setVideosData] = useState([]);\r\n  const [commentCourse, setCommentCourse] = useState([]);\r\n  const [courseCount, setCourseCount] = useState(0);\r\n  const [teacherId, settecherId] = useState(null);\r\n  const [studentCount, setStudentCount] = useState(0);\r\n  const [lessonCounts, setLessonCounts] = useState(0);\r\n  // const [student_teacherCount, setstudent_teacherCount] = useState(0);\r\n  const [courseId, setcourseId] = useState(null);\r\n  const [show, setShow] = useState(false); // State for controlling modal visibility\r\n  const { user } = useContext(UserContext);\r\n  const { userId } = user;\r\n  const [showLoginPopup, setShowLoginPopup] = useState(false); // State for controlling MiniPopUpLogin visibility\r\n  const [ShowPopupConf, setShowPopupConf] = useState(false);\r\n  const [smShow, setSmShow] = useState(false);\r\n  const [course_users, setCourse_users] = useState([]);\r\n  const [approvedUser, setApprovedUser] = useState(null);\r\n  const [checked, setChecked] = useState({}); // Initialize checked state as an object\r\n  const [course, setCourse] = useState(null);\r\n\r\n  const title_popup = \"تسجيل الدخول\";\r\n  const description_popup = \"لشراء قسم يجب تسجيل الدخول\";\r\n  const title_popup_confirm = \" تنبيه\";\r\n  const description_popup_confirm = \"تمت العملية ، طلبك قيد الأنتظار\";\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n\r\n    fetchCourseDetails();\r\n\r\n    const fetchCommentCourses = async () => {\r\n      try {\r\n        const response = await axios.get(\r\n          `${API_URL}/commentCourse/getAllCommentCourses`\r\n        );\r\n        const comments = response.data;\r\n        const approvedComments = comments.filter(\r\n          (comment) => comment.action === \"approved\"\r\n        );\r\n        setCommentCourse(approvedComments);\r\n      } catch (error) {\r\n        console.error(\"Error fetching comments:\", error);\r\n      }\r\n    };\r\n    // countTeacherCourses()\r\n\r\n    // fetchCourseUsers()\r\n    fetchCommentCourses();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const fetchVideosData = async () => {\r\n      try {\r\n        const response = await fetch(`${API_URL}/Courses/videos/${id}`);\r\n        if (!response.ok) {\r\n          throw new Error(\"Failed to fetch video details\");\r\n        }\r\n        const data = await response.json();\r\n        setVideosData(data);\r\n        const initialChecked = {};\r\n        data.forEach((item) => {\r\n          const storedState = localStorage.getItem(`checkbox-${item.id}`);\r\n          initialChecked[item.id] = storedState\r\n            ? JSON.parse(storedState)\r\n            : false;\r\n        });\r\n        setChecked(initialChecked);\r\n      } catch (error) {\r\n        console.error(\"Error fetching video details:\", error);\r\n      }\r\n    };\r\n    fetchVideosData();\r\n  }, [id]);\r\n\r\n  const [currentVideoIndex, setCurrentVideoIndex] = useState(null); // Initial video index\r\n\r\n  const [currentSlideIndex, setCurrentSlideIndex] = useState(0);\r\n  const totalSlides = Math.ceil(commentCourse.length / 3);\r\n  const goToNextSlide = () => {\r\n    setCurrentSlideIndex((prevIndex) =>\r\n      prevIndex === totalSlides - 1 ? 0 : prevIndex + 1\r\n    );\r\n  };\r\n\r\n  const goToPrevSlide = () => {\r\n    setCurrentSlideIndex((prevIndex) =>\r\n      prevIndex === 0 ? totalSlides - 1 : prevIndex - 1\r\n    );\r\n  };\r\n\r\n  // Calculate which comments to display based on current slide index\r\n  const startIndex = currentSlideIndex * 3;\r\n  const endIndex = startIndex + 3;\r\n  const visibleComments = commentCourse.slice(startIndex, endIndex);\r\n\r\n  // Adjust the visible comments to ensure exactly three are displayed\r\n  while (visibleComments.length < 3) {\r\n    visibleComments.push(null); // Add placeholders if there are fewer than three comments\r\n  }\r\n\r\n  const [expandedItemId, setExpandedItemId] = useState(null);\r\n  const handleVideoSelect = (index) => {\r\n    setCurrentVideoIndex(index);\r\n  };\r\n\r\n  const handleClick = (itemId) => {\r\n    setExpandedItemId(expandedItemId === itemId ? null : itemId);\r\n  };\r\n\r\n  // handle prvent recordeing\r\n  const handleContextMenu = (e) => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  const [isBlackScreen, setIsBlackScreen] = useState(false);\r\n\r\n  const handleKeyDown = (event) => {\r\n    // Check for common screen recording and screenshot shortcuts\r\n    const isRecordingShortcut =\r\n      (event.metaKey && event.shiftKey && event.key === \"5\") || // macOS: Command + Shift + 5\r\n      (event.ctrlKey && event.altKey && event.key === \"r\") || // Windows: Ctrl + Alt + R\r\n      (event.metaKey && event.key === \"4\") || // macOS: Command + Shift + 4 (for screenshots)\r\n      event.key === \"PrintScreen\" || // Windows: Print Screen\r\n      event.key === \"Meta\"; // Check if the key is Windows key (in some cases)\r\n\r\n    if (isRecordingShortcut) {\r\n      setIsBlackScreen(true);\r\n    }\r\n  };\r\n\r\n  const handleKeyUp = () => {\r\n    setTimeout(() => {\r\n      setIsBlackScreen(false);\r\n    }, 7000); // 7 seconds\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    window.addEventListener(\"keyup\", handleKeyUp);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleKeyDown);\r\n      window.removeEventListener(\"keyup\", handleKeyUp);\r\n    };\r\n  }, []);\r\n\r\n  const [videoDurations, setVideoDurations] = useState([]);\r\n  const videoRefs = useRef([]);\r\n  const videoEl = useRef(null);\r\n\r\n  const handleLoadedMetadata = () => {\r\n    const video = videoEl.current;\r\n    if (!video) return;\r\n    console.log(formatDuration(video.duration));\r\n  };\r\n  useEffect(() => {\r\n    const fetchVideoDurations = () => {\r\n      videoRefs.current.forEach((video, index) => {\r\n        if (video) {\r\n          video.addEventListener(\"loadedmetadata\", () => {\r\n            setVideoDurations((prevDurations) => {\r\n              const newDurations = [...prevDurations];\r\n              newDurations[index] = video.duration;\r\n              return newDurations;\r\n            });\r\n          });\r\n          // Trigger metadata loading\r\n          video.load();\r\n        }\r\n      });\r\n    };\r\n\r\n    fetchVideoDurations();\r\n    // Clean up event listeners\r\n    return () => {\r\n      videoRefs.current.forEach((video) => {\r\n        if (video) {\r\n          video.removeEventListener(\"loadedmetadata\", () => {});\r\n        }\r\n      });\r\n    };\r\n  }, [videosData]);\r\n\r\n  const formatDuration = (durationInSeconds) => {\r\n    if (isNaN(durationInSeconds) || durationInSeconds < 0) {\r\n      return \"Invalid Duration\";\r\n    }\r\n\r\n    const hours = Math.floor(durationInSeconds / 3600);\r\n    const minutes = Math.floor((durationInSeconds % 3600) / 60);\r\n    const seconds = Math.floor(durationInSeconds % 60);\r\n\r\n    return `${hours.toString().padStart(2, \"0\")}:${minutes\r\n      .toString()\r\n      .padStart(2, \"0\")}:${seconds.toString().padStart(2, \"0\")}`;\r\n  };\r\n\r\n  const handleSubmit = async (name, email, comment, rating) => {\r\n    try {\r\n      const response = await axios.post(\r\n        `${API_URL}/commentCourse/addCommentCourse`,\r\n        {\r\n          name: name,\r\n          email: email,\r\n          comment: comment,\r\n          rating: rating,\r\n          course_id: id, // Assuming `id` is the correct identifier for `blog_id`\r\n        }\r\n      );\r\n      if (response.status === 200) {\r\n        console.log(\"res\", response.data);\r\n      }\r\n      // window.location.reload();\r\n    } catch (error) {\r\n      console.error(\"Error submitting comment:\", error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchCourseCount = async () => {\r\n      try {\r\n        const response = await axios.get(\r\n          `${API_URL}/Courses/course-counts/${teacherId}`\r\n        );\r\n        // Assume response.data is an array with one object\r\n        const data = response.data;\r\n        if (data.length > 0) {\r\n          setCourseCount(data[0].course_count); // Set the course count from the first item in the array\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching course count:\", error);\r\n      }\r\n    };\r\n\r\n    if (teacherId) {\r\n      fetchCourseCount();\r\n    }\r\n  }, [teacherId]);\r\n\r\n  useEffect(() => {\r\n    const fetchStudentCount = async () => {\r\n      try {\r\n        const response = await axios.get(\r\n          `${API_URL}/Courses/users-counts/${courseId}`\r\n        );\r\n        const data = response.data;\r\n        if (data && data.student_count !== undefined) {\r\n          setStudentCount(data.student_count); // Set the course count from the response\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching course count:\", error);\r\n      }\r\n    };\r\n\r\n    if (courseId) {\r\n      fetchStudentCount();\r\n    }\r\n  }, [courseId]);\r\n  const fetchCourseDetails = async () => {\r\n    try {\r\n      const response = await fetch(`${API_URL}/Courses/details/${id}`);\r\n      const data = await response.json();\r\n      setCourseDetails(data);\r\n      settecherId(data[0].teacher_id);\r\n      if (data && data[0]) {\r\n        setcourseId(data[0].id);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching course details:\", error);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    const fetchLessonCounts = async () => {\r\n      try {\r\n        const response = await axios.get(\r\n          `${API_URL}/Courses/lesson-counts/${courseId}`\r\n        );\r\n        const data = response.data;\r\n        if (data.length > 0) {\r\n          setLessonCounts(data[0].lesson_count); // Set the lesson count from the first item in the array\r\n        } else {\r\n          setLessonCounts(0); // In case no lessons are found\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching course count:\", error);\r\n      }\r\n    };\r\n\r\n    if (courseId) {\r\n      fetchLessonCounts();\r\n    }\r\n  }, [courseId]);\r\n\r\n  // const TeacherStudentCount = async () => {\r\n  //   if (teacherId) {\r\n  //     try {\r\n  //       const response = await axios.get(\r\n  //         `http://localhost:8080/teacher/student-counts/${teacherId}`\r\n  //       );\r\n  //       const data = response.data;\r\n  //       if (data && data.student_count !== undefined) {\r\n  //         setstudent_teacherCount(data.student_count); // Set the course count from the response\r\n  //       }\r\n  //     } catch (error) {\r\n  //       console.error(\"Error fetching student count:\", error);\r\n  //     }\r\n  //   }\r\n  // };\r\n\r\n  // useEffect(() => {\r\n  //   if (teacherId) {\r\n  //     TeacherStudentCount();\r\n  //   }\r\n  // }, [teacherId]);\r\n\r\n  const handleClose = () => setShow(false);\r\n\r\n  const handleClosePopup = () => {\r\n    setShowLoginPopup(false);\r\n  };\r\n\r\n  const handleClosePopupConf = () => {\r\n    setShowPopupConf(false);\r\n  };\r\n\r\n\r\n\r\n\r\n  const handleShow = () => setShow(true);\r\n  useEffect(() => {\r\n    const fetchCourseUsers = async () => {\r\n      try {\r\n        const response = await axios.get(\r\n          `${API_URL}/PaymentsDepartments/getallcourseusers`\r\n        );\r\n        setCourse_users(response.data);\r\n      } catch (error) {\r\n        console.error(\"Failed to fetch course users:\", error);\r\n      }\r\n    };\r\n\r\n    if (courseId) {\r\n      fetchCourseUsers();\r\n    }\r\n  }, [courseId]);\r\n  useEffect(() => {\r\n    // Example API call to fetch course details\r\n    const fetchCourseData = async () => {\r\n      try {\r\n        const response = await axios.get(`${API_URL}/Courses/${courseId}`);\r\n        setCourse(response.data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching course data:\", error);\r\n      }\r\n    };\r\n\r\n    fetchCourseData();\r\n  }, [courseId]);\r\n  // Determine if the user is approved\r\n  useEffect(() => {\r\n    if (course_users.length > 0 && userId && courseId) {\r\n      // Check if the user is approved for the current course\r\n\r\n      const user_courses = course_users.find(\r\n        (user) =>\r\n          user.payment_status === \"approved\" &&\r\n          user.user_id == userId &&\r\n          user.course_id === courseId\r\n      );\r\n      setApprovedUser(user_courses);\r\n    }\r\n  }, [course_users, userId, courseId]); // Include `course` in dependency array if `course.expiration_date` is used\r\n\r\n  const handleCheckboxChange = (videoId) => {\r\n    const newChecked = !checked[videoId];\r\n    setChecked((prev) => ({ ...prev, [videoId]: newChecked }));\r\n    localStorage.setItem(`checkbox-${videoId}`, JSON.stringify(newChecked));\r\n  };\r\n  // Download handler function\r\n\r\n  return (\r\n    <>\r\n      {/* header of course details */}\r\n      {courseDetails.map((course) => (\r\n        <div\r\n          className=\"container text-center cont_course_details\"\r\n          key={course.id}\r\n        >\r\n          <div className=\"row \">\r\n            <div className=\"col-lg-6 col-md-6 col-sm-12 d-flex justify-content-center\">\r\n              <img\r\n                src={`https://res.cloudinary.com/dqimsdiht/${course.img}`}\r\n                alt=\"coursedetails\"\r\n                className=\"img-fluid img_coursedetails\"\r\n                loading=\"lazy\"\r\n              />{\" \"}\r\n            </div>\r\n            <div className=\"col-lg-6 col-md-6 cl-sm-12 \">\r\n              <div className=\"dep_teacher_coursedetails \">\r\n                <p className=\"dep_coursedetaile\">{course.Department?.title}</p>\r\n                <p className=\"teacher_coursedetails\">\r\n                  {course.teacher?.teacher_name}\r\n                </p>\r\n              </div>\r\n              <h1 className=\"title_coursedetails\">{course.subject_name}</h1>\r\n              <div className=\"d-flex justify-content-around \">\r\n                <div className=\"d-flex\">\r\n                  <i\r\n                    class=\"fa-solid fa-graduation-cap card_icon\"\r\n                    style={{ color: \"#f8c36e\" }}\r\n                  ></i>\r\n\r\n                  <p className=\"details_courses_card\"style={{color:\"#f8c36e\",fontWeight:\"bold\"}}> {studentCount} طالب </p>\r\n                </div>\r\n                <div className=\"d-flex\">\r\n                  <i\r\n                    class=\"fa-solid fa-file card_icon\"\r\n                    style={{ color: \"#f8c36e\" }}\r\n                  ></i>\r\n                  <p className=\"details_courses_card \"style={{color:\"#f8c36e\",fontWeight:\"bold\"}}> {lessonCounts} درس</p>\r\n                </div>\r\n\r\n                {course.total_video_duration !== \"0h 0m 0s\" ? (\r\n                  <div className=\"d-flex\">\r\n                    <i\r\n                      className=\"fa-solid fa-clock card_icon\"\r\n                      style={{ color: \"#f8c36e\" }}\r\n                    ></i>\r\n                    <p className=\"details_courses_card\"style={{color:\"#f8c36e\",fontWeight:\"bold\"}}>\r\n                      {course.total_video_duration}\r\n                    </p>\r\n                  </div>\r\n                ) : null}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n      {/* End header of course details */}\r\n\r\n      <section className=\"margin_section\">\r\n        <div className=\"container text-center\">\r\n          <div className=\"row\">\r\n            <div\r\n              className=\"col-lg-5 col-md-12 col-sm-12\"\r\n              onContextMenu={handleContextMenu}\r\n            >\r\n              {/* <Video/> */}\r\n\r\n              {videosData.length > 0 && (\r\n                <div className=\"video_cont\">\r\n                  <div className=\"video_wrapper\">\r\n                    {/* Render default video if currentVideoIndex is null */}\r\n                    {currentVideoIndex === null ? (\r\n                      <div>\r\n                        <video\r\n                          ref={videoEl}\r\n                          onLoadedMetadata={handleLoadedMetadata}\r\n                          controls\r\n                          controlsList=\"nodownload\"\r\n                          className=\"video_play\"\r\n                          preload=\"metadata\"\r\n                          key={currentVideoIndex}\r\n                          onEnded={() =>\r\n                            setCurrentVideoIndex(\r\n                              (prevIndex) => (prevIndex + 1) % videosData.length\r\n                            )\r\n                          }\r\n                        >\r\n                          <source\r\n                            src={`https://res.cloudinary.com/dqimsdiht/video/upload/${videosData[0].course.defaultvideo}`} // Assuming first video is default\r\n                            type=\"video/mp4\"\r\n                          />\r\n                          Your browser does not support the video tag.\r\n                        </video>\r\n                        {approvedUser ? (\r\n                          <>\r\n                            <div className=\"d-flex justify-content-center\">\r\n                              <div>\r\n                                <h2 className=\"title_after_purchase\">\r\n                                  {videosData[0].subject_name}\r\n                                </h2>\r\n                                <h3 className=\"teachar_after_purchase\">\r\n                                  {videosData[0].course.teacher.teacher_name}\r\n                                </h3>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"d-flex justify-content-center\">\r\n                              <Link\r\n                                target=\"blankk\"\r\n                                to={`https://res.cloudinary.com/dqimsdiht/image/upload/v1736931832/${videosData[0].course.file_book}`}\r\n                              >\r\n                                <button\r\n                                  style={{\r\n                                    backgroundColor: \"#018abe\",\r\n                                    border: \"none\",\r\n                                    borderRadius: \"25px\",\r\n                                    color: \"#fff\",\r\n                                    fontSize: \"12px\",\r\n                                    height: \"35px\",\r\n                                  }}\r\n                                  className=\"px-3\"\r\n                                >\r\n                                  {\" \"}\r\n                                  <i\r\n                                    className=\"fa-solid fa-download px-2\"\r\n                                    style={{ color: \"#ffffff\" }}\r\n                                  ></i>\r\n                                  تحميل\r\n                                </button>\r\n                              </Link>\r\n                            </div>\r\n                          </>\r\n                        ) : (\r\n                          <div>\r\n                           \r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    ) : (\r\n                      // Render selected video\r\n                      videosData[currentVideoIndex] && (\r\n                        <div>\r\n                          {videosData[currentVideoIndex].type === \"file\" &&\r\n                          approvedUser ? (\r\n                            <div>\r\n                              <div className=\"video_wrapper\">\r\n                                <video\r\n                                  ref={videoEl}\r\n                                  onLoadedMetadata={handleLoadedMetadata}\r\n                                  key={currentVideoIndex}\r\n                                  controls\r\n                                  controlsList=\"nodownload\"\r\n                                  className=\"video_play\"\r\n                                  preload=\"metadata\"\r\n                                >\r\n                                  <source\r\n                                    src={`https://res.cloudinary.com/dqimsdiht/video/upload/${videosData[currentVideoIndex].url}`}\r\n                                    type=\"video/mp4\"\r\n                                  />\r\n                                  Your browser does not support the video tag.\r\n                                </video>\r\n                                <div className=\"d-flex justify-content-evenly\">\r\n                                  <div>\r\n                                    <h2 className=\"title_after_purchase\">\r\n                                      {videosData[0].subject_name}\r\n                                    </h2>\r\n                                    <h3 className=\"teachar_after_purchase\">\r\n                                      {\r\n                                        videosData[0].course.teacher\r\n                                          .teacher_name\r\n                                      }\r\n                                    </h3>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          ) : videosData[currentVideoIndex].type === \"link\" ? (\r\n                            <div className=\"frame-responsive\">\r\n                              <iframe\r\n                                width=\"100%\"\r\n                                height=\"250\"\r\n                                key={currentVideoIndex}\r\n                                src={videosData[currentVideoIndex].link}\r\n                                title=\"Video player\"\r\n                                allowFullScreen\r\n                              ></iframe>\r\n                              <h2 className=\"title_after_purchase\">\r\n                                {videosData[0].subject_name}\r\n                              </h2>\r\n                              <h3 className=\"teachar_after_purchase\">\r\n                                {videosData[0].teacher.teacher_name}\r\n                              </h3>\r\n                            </div>\r\n                          ) : (\r\n                            <div>\r\n                              <div className=\"d-flex justify-content-center\">\r\n                                <p className=\"after_price_coursedetails\">\r\n                                  {videosData[0].course.after_offer} دينار\r\n                                </p>\r\n                                <p className=\"before_price_coursedetails\">\r\n                                  {videosData[0].course.before_offer} دينار\r\n                                </p>\r\n                              </div>\r\n                              <button\r\n                                className=\"purchase_now_coursedetails\"\r\n                                onClick={handleShow}\r\n                              >\r\n                                شراء الان\r\n                              </button>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      )\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/*End video  */}\r\n            </div>\r\n            {courseDetails.map((course) => (\r\n              <div\r\n                className=\"col-lg-7 col-md-12 col-sm-12 col_tabs_coursedetails\"\r\n                key={course.id}\r\n              >\r\n                <Tabs>\r\n                  <Tab title=\"عن المادة\">\r\n                    <div className=\"description_coursedetails\">\r\n                      {/* {course.descr} */}\r\n                      <ReadMoreReact\r\n                        text={course.descr}\r\n                        min={200}\r\n                        ideal={300}\r\n                        max={500}\r\n                        readMoreText=\"اقرأ المزيد\"\r\n                        readMoreClassName=\"read-more-button\"\r\n                      />\r\n                    </div>\r\n                  </Tab>\r\n                  {/* {approvedUser && courseDetails && videosData.length > 0 && ( */}\r\n                  {approvedUser ? (\r\n                    <Tab title=\"الموضوعات\">\r\n                      <div>\r\n                        <p className=\"description_coursedetails\">\r\n                          {course.descr}\r\n                        </p>\r\n                        <div className=\"container text-center\">\r\n                          {videosData.map((item, index) => (\r\n                            <div\r\n                              className=\"row topic_list_tabs_cont\"\r\n                              key={item.id}\r\n                              onClick={() => handleClick(item.id)}\r\n                            >\r\n                              <div\r\n                                className={`col-lg-6 col-md-6 col-sm-12 ${\r\n                                  expandedItemId === item.id ? \"mb-3\" : \"\"\r\n                                }`}\r\n                              >\r\n                                <div className=\"d-flex align-items-center pt-2\">\r\n                                  <IoIosArrowDown />\r\n                                  <li style={{ cursor: \"pointer\" }}>\r\n                                    {item.title}\r\n                                  </li>\r\n                                </div>\r\n                              </div>\r\n                              <div className=\"col-lg-6 col-md-6 col-sm-12\">\r\n                                <div className=\"d-flex justify-content-evenly\">\r\n                                  <div className=\"d-flex\">\r\n                                    <i\r\n                                      className=\"fa-solid fa-file card_icon\"\r\n                                      style={{ color: \"#f8c36e\" }}\r\n                                    ></i>\r\n                                    <p className=\"details_courses_card\">\r\n                                      1 درس\r\n                                    </p>\r\n                                  </div>\r\n                                  {item.type === \"file\" && (\r\n                                    <div className=\"d-flex\">\r\n                                      <i\r\n                                        className=\"fa-solid fa-clock card_icon\"\r\n                                        style={{ color: \"#f8c36e\" }}\r\n                                      ></i>\r\n                                      <p className=\"details_courses_card\">\r\n                                        {item.duration}\r\n                                      </p>\r\n                                    </div>\r\n                                  )}\r\n                                </div>\r\n                              </div>\r\n                              {expandedItemId === item.id && (\r\n                                <div className=\"d-flex justify-content-between\">\r\n                                  <p style={{ marginTop: \"10px\" }}>\r\n                                    {item.description}\r\n                                  </p>\r\n\r\n                                  <div className=\"d-flex\">\r\n                                    <input\r\n                                      type=\"checkbox\"\r\n                                      value=\"Paneer\"\r\n                                      id={`checkbox-${item.id}`}\r\n                                      name={`checkbox-${item.id}`}\r\n                                      className=\"checkbox_coursedetails\"\r\n                                      checked={checked[item.id] || false} // Ensure checked state is managed\r\n                                      onChange={() =>\r\n                                        handleCheckboxChange(item.id)\r\n                                      } // Pass item.id\r\n                                    />\r\n\r\n                                    <button\r\n                                      className=\"show_video_btn\"\r\n                                      onClick={() => handleVideoSelect(index)}\r\n                                    >\r\n                                      مشاهدة{\" \"}\r\n                                      <i\r\n                                        className=\"fa-regular fa-circle-play\"\r\n                                        style={{ color: \"#fff\" }}\r\n                                      ></i>\r\n                                    </button>\r\n                                  </div>\r\n                                </div>\r\n                              )}\r\n                              {/* Video Element */}\r\n                              <video\r\n                                ref={(el) => (videoRefs.current[index] = el)}\r\n                                src={item.videoUrl} // Ensure this is the correct video URL\r\n                                style={{ display: \"none\" }} // Hide video element\r\n                              />\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    </Tab>\r\n                  ) : (\r\n                    <p>\r\n                      {/* Access to this tab is restricted. Please ensure you have\r\n                        the correct permissions. */}\r\n                    </p>\r\n                  )}\r\n\r\n                  <Tab title=\"المدرب\">\r\n                    <div className=\"container text-center\">\r\n                      <div className=\"row\">\r\n                        <div className=\"col-lg-3 col-md-3 col-sm-12\">\r\n                          <img\r\n                            src={`https://res.cloudinary.com/dqimsdiht/${course.img}`}\r\n                            alt=\"teacher img\"\r\n                            height={\"80vh\"}\r\n                            width={\"80vh\"}\r\n                            loading=\"lazy\"\r\n                          />\r\n                        </div>\r\n                        <div className=\"col-lg-9 col-md-9 col-sm-12\">\r\n                          <p className=\"teacher_name_coursedetails\">\r\n                            {course.teacher.teacher_name}{\" \"}\r\n                          </p>\r\n                          <p className=\"desc_of_teacher_coursedetails\">\r\n                            {course.teacher.teacher_descr}{\" \"}\r\n                          </p>\r\n                          <div className=\"d-flex\">\r\n                            <i\r\n                              className=\"fa-solid fa-file card_icon ps-2\"\r\n                              style={{ color: \"#f8c36e\" }}\r\n                            ></i>\r\n                            <p className=\"details_courses_card\">\r\n                              {\" \"}\r\n                              {courseCount}مادة{\" \"}\r\n                            </p>\r\n                          </div>\r\n                          {/* <div className=\"d-flex\">\r\n                            <i\r\n                              className=\"fa-solid fa-graduation-cap card_icon ps-2\"\r\n                              style={{ color: \"#f8c36e\" }}\r\n                            ></i>\r\n                            <p className=\"details_courses_card\">\r\n                              {\" \"}\r\n                              {student_teacherCount} طالب{\" \"}\r\n                            </p>\r\n                          </div> */}\r\n                          <div className=\"d-flex\">\r\n                            <p>للمتابعة:</p>\r\n                            <Link to=\"\">\r\n                              <i\r\n                                className=\"fa-brands fa-facebook-f m-2\"\r\n                                style={{ color: \"#000\" }}\r\n                              ></i>\r\n                            </Link>\r\n                            <Link to=\"\">\r\n                              <i\r\n                                className=\"fa-brands fa-x-twitter m-2\"\r\n                                style={{ color: \"#000\" }}\r\n                              ></i>\r\n                            </Link>\r\n                            <Link to=\"\">\r\n                              <i\r\n                                className=\"fa-brands fa-instagram m-2\"\r\n                                style={{ color: \"#000\" }}\r\n                              ></i>\r\n                            </Link>\r\n                            <Link to=\"\">\r\n                              <i\r\n                                className=\"fa-brands fa-linkedin-in m-2\"\r\n                                style={{ color: \"#000\" }}\r\n                              ></i>\r\n                            </Link>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </Tab>\r\n                  {/* comment slide */}\r\n                  <Tab title=\"الأراء\">\r\n                    <Rating comments={commentCourse} />\r\n                    <div className=\"container\">\r\n                      <div className=\"slider\">\r\n                        <div className=\"slider-content\">\r\n                          {visibleComments.map((comment, index) => (\r\n                            <div className=\"slider-item\" key={index}>\r\n                              {comment && (\r\n                                <div className=\"row mb-2\">\r\n                                  <div className=\"col-lg-3 col-md-3 col-sm-12\">\r\n                                    <img\r\n                                      src={require(\"../assets/acc_icon.png\")}\r\n                                      alt=\"details\"\r\n                                      height={\"70vh\"}\r\n                                      width={\"70vh\"}\r\n                                      loading=\"lazy\"\r\n                                    />\r\n                                  </div>\r\n                                  <div className=\"col-lg-9 col-md-9 col-sm-12\">\r\n                                    <div className=\"d-flex justify-content-between\">\r\n                                      <p className=\"teacher_name_coursedetails\">\r\n                                        {comment.name}\r\n                                      </p>\r\n                                      <p className=\"comment_date_coursedetails\">\r\n                                        {comment.created_date}\r\n                                      </p>\r\n                                    </div>\r\n                                    <p className=\"desc_of_teacher_coursedetails\">\r\n                                      {comment.comment}\r\n                                    </p>\r\n                                  </div>\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"text-center mt-3\">\r\n                      <div\r\n                        className=\"col-md-12 col-sm-12 col_btn_prevNext\"\r\n                        style={{ marginTop: \"10px\" }}\r\n                      >\r\n                        <button onClick={goToNextSlide} className=\"btn mb-3\">\r\n                          <i className=\"fa fa-arrow-right\"></i>\r\n                        </button>\r\n                        <div\r\n                          style={{\r\n                            textAlign: \"center\",\r\n                            marginTop: \"5px\",\r\n                            fontSize: \"18px\",\r\n                          }}\r\n                        >\r\n                          {/* Displaying current slide number in bold */}\r\n                          <span style={{ fontWeight: \"bold\" }}>\r\n                            {currentSlideIndex + 1}\r\n                          </span>{\" \"}\r\n                          / {totalSlides}\r\n                        </div>\r\n                        <button onClick={goToPrevSlide} className=\"btn mb-3\">\r\n                          <i className=\"fa fa-arrow-left\"></i>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </Tab>\r\n                  {/* End comment slide */}\r\n                </Tabs>\r\n                <CommentForm\r\n                  title=\"اترك تعليق\"\r\n                  btn_title=\"تعليق\"\r\n                  handleSubmit={handleSubmit}\r\n                />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </section>\r\n      {/* MiniPopUpLogin */}\r\n      {showLoginPopup && (\r\n        <MiniPopUpLogin\r\n          title_popup={title_popup}\r\n          description_popup={description_popup}\r\n          show={showLoginPopup}\r\n          onClose={handleClosePopup}\r\n        />\r\n      )}\r\n\r\n      {ShowPopupConf && (\r\n        <MiniPopUpConfirm\r\n          title_popup_confirm={title_popup_confirm}\r\n          description_popup_confirm={description_popup_confirm}\r\n          smShow={smShow}\r\n          onClose={handleClosePopupConf}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MyCourseDetail;\r\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"../Css/commentForm.css\";\r\nfunction CommentForm({title,btn_title ,handleSubmit }) {\r\n\r\n\r\n\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [comment, setComment] = useState('');\r\n  const [rating, setRating] = useState(0);\r\n \r\n\r\n  const handleSubmitForm = async (event) => {\r\n    event.preventDefault(); \r\n\r\n    // Form validation\r\n    if (!name || !email || !comment || rating === 0) {\r\n      alert(\"الرجاء ملء جميع الحقول وتحديد التقييم.\");\r\n      return;\r\n    }\r\n\r\n    // Email validation\r\n    const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (!emailPattern.test(email)) {\r\n      alert(\"الرجاء إدخال بريد إلكتروني صحيح.\");\r\n      return;\r\n    } \r\n\r\n    try {\r\n      await handleSubmit(name, email, comment , rating); \r\n    // Clear the form data after successful submission\r\n    setName('');\r\n    setEmail('');\r\n    setComment('');\r\n    setRating(0);\r\n  \r\n\r\n    \r\n    } catch (error) {\r\n      console.error(\"Error submitting comment:\", error);\r\n    }\r\n  };\r\n\r\n  const handleRatingChange = (newRating) => {\r\n    setRating(newRating);\r\n  };\r\n\r\n\r\n  return (\r\n    <>\r\n      <section className=\"margin_section\">\r\n        <div className=\"container \">\r\n          <div className=\"row\">\r\n            {/* <div className=\"col-lg-5 col-md-6 col-sm-12\">\r\n\r\n            </div> */}\r\n            <div className=\"col-lg-12 col-md-6 col-sm-12\">\r\n          <h2 className=\"leave_comment_title\">{title}</h2>\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-6 col-md-12 col-sm-12\">\r\n                  <p className=\"title_of_comment_form\">الاسم</p>\r\n                  <input\r\n                   type=\"text\"\r\n                   name=\"name\"\r\n                   value={name}\r\n                   onChange={(e) => setName(e.target.value)}\r\n\r\n                   className=\"comment_form_input\"\r\n                  />\r\n                </div>\r\n                <div className=\"col-lg-6 col-md-12 col-sm-12\">\r\n                  <p className=\"title_of_comment_form\">البريد الالكنروني</p>\r\n                  <input\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    className=\"comment_form_input\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-12 col-md-12 col-sm-12\">\r\n                <p className=\"title_of_comment_form\">التعليق </p>\r\n                  <input\r\n                    type=\"textarea\"\r\n                    className=\"textarea_input_commentForm\"\r\n                    value={comment}\r\n                    onChange={(e) => setComment(e.target.value)}\r\n                   \r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-12 col-md-12 col-sm-12\">\r\n                  <p className=\"title_of_comment_form\">التقييم</p>\r\n                  <div className=\"rating-input\">\r\n                    {[1, 2, 3, 4, 5].map((star) => (\r\n                      <i\r\n                        key={star}\r\n                        className={`fa-star ${star <= rating ? 'fa-solid' : 'fa-regular'}`}\r\n                        style={{ color: '#F6B40A', cursor: 'pointer' }}\r\n                        onClick={() => handleRatingChange(star)}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"row\">\r\n                <div className=\"col d-flex justify-content-center\">\r\n                    <button type=\"submit\" onClick={handleSubmitForm} className=\"submit_button_commentForm\">\r\n                      {btn_title}\r\n                    </button>\r\n  \r\n                   \r\n                </div>\r\n             \r\n       \r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default CommentForm;","import React, { useState, useEffect } from \"react\";\r\nimport \"../Css/topicsAndRating.css\";\r\n\r\n\r\nfunction Rating({ comments }) {\r\n  const width = \"50\";\r\n  const [averageRating, setAverageRating] = useState(0);\r\n\r\n\r\n  useEffect(() => {\r\n    if (comments.length > 0) {\r\n      const totalRating = comments.reduce((acc, comment) => acc + comment.rating, 0);\r\n      setAverageRating((totalRating / comments.length).toFixed(1));\r\n    } else {\r\n      setAverageRating(0); // Reset average rating if there are no comments\r\n    }\r\n  }, [comments]); // Add comments as dependency\r\n\r\n  const ratingCounts = [5, 4, 3, 2, 1].map((star) => ({\r\n    star,\r\n    count: comments.filter((comment) => comment.rating === star).length,\r\n  }));\r\n\r\n  const getPercentage = (count) => ((count / comments.length) * 100).toFixed(0);\r\n\r\n  return (\r\n    <div dir=\"ltr\" className=\"mb-3\">\r\n      <div className=\"d-flex\">\r\n        <div className=\"d-flex justify-content-center align-items-center\">\r\n          <p className=\"total_rating\">\r\n          {averageRating}\r\n          </p>\r\n        </div>\r\n        <div className=\"p-3\">\r\n          {[1, 2, 3, 4, 5].map((star, index) => (\r\n            <span key={index} className={`fa fa-star ${index < averageRating ? \"checked\" : \"\"}`}></span>\r\n          ))}\r\n          <p> based on {comments.length} ratings.</p>\r\n        </div>\r\n      </div>\r\n      {/* <hr style={{ border: \"3px solid #f1f1f1\" }} /> */}\r\n\r\n      <div className=\"row\">\r\n      {ratingCounts.map(({ star, count }) => (\r\n          <React.Fragment key={star}>\r\n            <div className=\"side_rating\">\r\n              <div className=\"d-flex\">\r\n                {[...Array(star)].map((_, index) => (\r\n                  <i key={index} className=\"fa-solid fa-star\" style={{ color: \"#F6B40A\" }}></i>\r\n                ))}\r\n                {[...Array(5 - star)].map((_, index) => (\r\n                  <i key={index} className=\"fa-regular fa-star\" style={{ color: \"#F6B40A\" }}></i>\r\n                ))}\r\n              </div>\r\n            </div>\r\n            <div className=\"percentage_cont\">\r\n              <span className=\"percentage_rating\">{getPercentage(count)}%</span>\r\n            </div>\r\n            <div className=\"middle\">\r\n              <div className=\"bar-container\">\r\n                <div className=\"bar-1\" style={{ width: `${getPercentage(count)}%` }}></div>\r\n              </div>\r\n            </div>\r\n          </React.Fragment>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Rating;\r\n"],"names":["id","useParams","courseDetails","setCourseDetails","useState","videosData","setVideosData","commentCourse","setCommentCourse","courseCount","setCourseCount","teacherId","settecherId","studentCount","setStudentCount","lessonCounts","setLessonCounts","courseId","setcourseId","show","setShow","user","useContext","UserContext","userId","showLoginPopup","setShowLoginPopup","ShowPopupConf","setShowPopupConf","smShow","setSmShow","course_users","setCourse_users","approvedUser","setApprovedUser","checked","setChecked","course","setCourse","useEffect","window","scrollTo","fetchCourseDetails","async","response","axios","get","concat","API_URL","approvedComments","data","filter","comment","action","error","console","fetchCommentCourses","fetch","ok","Error","json","initialChecked","forEach","item","storedState","localStorage","getItem","JSON","parse","fetchVideosData","currentVideoIndex","setCurrentVideoIndex","currentSlideIndex","setCurrentSlideIndex","totalSlides","Math","ceil","length","goToNextSlide","prevIndex","goToPrevSlide","startIndex","endIndex","visibleComments","slice","push","expandedItemId","setExpandedItemId","isBlackScreen","setIsBlackScreen","handleKeyDown","event","metaKey","shiftKey","key","ctrlKey","altKey","handleKeyUp","setTimeout","addEventListener","removeEventListener","videoDurations","setVideoDurations","videoRefs","useRef","videoEl","handleLoadedMetadata","video","current","log","formatDuration","duration","index","prevDurations","newDurations","load","durationInSeconds","isNaN","hours","floor","minutes","seconds","toString","padStart","handleSubmit","name","email","rating","post","course_id","status","course_count","fetchCourseCount","undefined","student_count","fetchStudentCount","teacher_id","lesson_count","fetchLessonCounts","fetchCourseUsers","fetchCourseData","user_courses","find","payment_status","user_id","_jsxs","_Fragment","children","map","_course$Department","_course$teacher","_jsx","className","src","img","alt","loading","Department","title","teacher","teacher_name","subject_name","class","style","color","fontWeight","total_video_duration","onContextMenu","e","preventDefault","ref","onLoadedMetadata","controls","controlsList","preload","onEnded","defaultvideo","type","Link","target","to","file_book","backgroundColor","border","borderRadius","fontSize","height","url","width","link","allowFullScreen","after_offer","before_offer","onClick","handleShow","Tabs","Tab","ReadMoreReact","text","descr","min","ideal","max","readMoreText","readMoreClassName","handleClick","itemId","IoIosArrowDown","cursor","marginTop","description","value","onChange","videoId","newChecked","prev","setItem","stringify","handleCheckboxChange","handleVideoSelect","el","videoUrl","display","teacher_descr","Rating","comments","require","created_date","textAlign","CommentForm","btn_title","MiniPopUpLogin","title_popup","description_popup","onClose","handleClosePopup","MiniPopUpConfirm","title_popup_confirm","description_popup_confirm","handleClosePopupConf","_ref","setName","setEmail","setComment","setRating","star","alert","test","averageRating","setAverageRating","totalRating","reduce","acc","toFixed","ratingCounts","count","getPercentage","dir","_ref2","React","Array","_"],"sourceRoot":""}