"use strict";(self.webpackChunknaja=self.webpackChunknaja||[]).push([[591],{6591:(e,s,a)=>{a.r(s),a.d(s,{default:()=>u});var c=a(5043),t=a(3216),l=a(5475),n=a(6213),i=a(378),r=a(2064),o=a(4179),d=a(579);const u=function(){const[e,s]=(0,c.useState)(""),[u,m]=(0,c.useState)([]),[h,v]=(0,c.useState)([]),{user:x}=((0,t.Zp)(),(0,c.useContext)(i.R)),j=x.userId,[_,f]=(0,c.useState)(null),[p,g]=(0,c.useState)([]),[N,y]=(0,c.useState)("");(0,c.useEffect)((()=>{(async()=>{try{const e=(await n.A.get("".concat(r.H,"/PaymentsCourse/getApprovedCoursesForUser/").concat(j))).data,s=await Promise.all(e.map((async e=>{try{var s;const a=await n.A.get("".concat(r.H,"/Courses/users-counts/").concat(e.course_id)),c=(await n.A.get("".concat(r.H,"/Courses/lesson-counts/").concat(e.course_id))).data,t=Array.isArray(c)&&c.length>0?c[0].lesson_count:0;return{...e,student_count:(null===(s=a.data)||void 0===s?void 0:s.student_count)||0,lesson_count:t||0}}catch(a){return console.error("Error fetching data for course ".concat(e.course_id,":"),a),{...e,student_count:0,lesson_count:0}}})));v(s),m(s),s.length>0&&f(s[0].course_id)}catch(e){console.error("Error fetching approved courses:",e)}})()}),[j]),(0,c.useEffect)((()=>{(async()=>{try{const e=await n.A.get("".concat(r.H,"/departments/getDepartments"));g(e.data)}catch(e){console.error("Error fetching departments:",e)}})()}),[]),(0,c.useEffect)((()=>{(()=>{let s=[...h];e&&(s=s.filter((s=>s.subject_name.toLowerCase().includes(e.toLowerCase())))),N&&(s=s.filter((e=>e.department_id===parseInt(N)))),m(s)})()}),[e,N,h]);const[w,b]=(0,c.useState)(window.innerWidth);if("undefined"!==typeof window){new ResizeObserver((()=>{})).observe(document.body)}return(0,c.useEffect)((()=>{let e;const s=()=>{clearTimeout(e),e=setTimeout((()=>b(window.innerWidth)),200)};return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)}),[]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"slide-item",children:[(0,d.jsx)("img",{src:a(9661),alt:"Contact Video",className:"img_home",loading:"lazy"}),(0,d.jsx)("div",{className:"overlay",children:(0,d.jsx)("div",{className:"overlay-content",children:(0,d.jsx)("h1",{style:{fontWeight:"700",fontSize:"64px"},children:"\u062f\u0648\u0631\u0627\u062a\u064a"})})})]}),(0,d.jsx)("section",{className:"margin_section",children:(0,d.jsx)("div",{className:"container ",children:(0,d.jsxs)("div",{className:"row ",children:[(0,d.jsx)("div",{className:"col-lg-3 col-md-4 col-sm-12",children:(0,d.jsxs)("div",{className:"navbar__search",children:[(0,d.jsxs)("span",{children:[(0,d.jsx)("i",{className:"fa-solid fa-magnifying-glass fa-sm",style:{color:"#833988"}})," "]}),(0,d.jsx)("input",{type:"text",placeholder:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0645\u0627\u062f\u0629",value:e,className:"search_course",onChange:e=>{s(e.target.value)}}),(0,d.jsxs)("a",{href:"#",className:"btn btn-s purple_btn search_btn",children:["\u0628\u062d\u062b"," "]})]})}),(0,d.jsx)("div",{className:"col-lg-3 col-md-4 col-sm-12",children:(0,d.jsxs)("select",{name:"department",value:N,onChange:e=>{y(e.target.value)},id:"lang",className:"select_dep",children:[(0,d.jsx)("option",{value:"",children:"\u0627\u062e\u062a\u0631 \u0642\u0633\u0645"}),p.map((e=>(0,d.jsx)("option",{value:e.id,children:e.title},e.id)))]})}),(0,d.jsx)("div",{className:"col-lg-6 col-md-4 col-sm-12"})]})})}),(0,d.jsx)("div",{className:"container",children:(0,d.jsx)("div",{className:"row d-flex flex-wrap justify-content-center align-items-center",children:u.map(((e,s)=>{var a,c,t,n,i,r,u,m,h,v,x,j,_,f;return(0,d.jsxs)(d.Fragment,{children:[null!==e.course_id&&(0,d.jsx)("div",{className:"col-lg-4 col-md-6 col-sm-12",children:(0,d.jsx)(l.N_,{style:{textDecoration:"none"},to:"/mycoursedetails/".concat(e.course_id),children:(0,d.jsxs)("div",{className:"card card_cont",children:[(0,d.jsx)("img",{src:"https://res.cloudinary.com/dqimsdiht/".concat(null===(a=e.course)||void 0===a?void 0:a.img),className:"card-img-top img-fluid card_img",alt:null===(c=e.course)||void 0===c?void 0:c.subject_name,loading:"lazy"}),(0,d.jsxs)("div",{className:"card-body",children:[(0,d.jsx)("div",{children:(0,d.jsx)("p",{className:"card-text card_dep",children:(null===(t=e.course)||void 0===t||null===(n=t.Department)||void 0===n?void 0:n.title)||"No Department Available"})}),(0,d.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,d.jsx)("p",{className:"course_title_card",children:null===(i=e.course)||void 0===i?void 0:i.subject_name}),(0,d.jsx)("p",{className:"teacher_name_card",children:null===(r=e.course)||void 0===r||null===(u=r.teacher)||void 0===u?void 0:u.teacher_name})]}),(0,d.jsx)("hr",{style:{marginTop:"1px"}}),(0,d.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,d.jsx)("i",{className:"fa-solid fa-file card_icon",style:{color:"#f8c36e"}}),(0,d.jsxs)("p",{className:"details_courses_card",children:[e.student_count," \u0637\u0627\u0644\u0628"]}),(0,d.jsx)("i",{className:"fa-solid fa-graduation-cap card_icon",style:{color:"#f8c36e"}}),(0,d.jsxs)("p",{className:"details_courses_card",children:[e.lesson_count," \u062f\u0631\u0633"]}),(0,d.jsx)("i",{className:"fa-solid fa-clock card_icon",style:{color:"#f8c36e"}}),(0,d.jsx)("p",{className:"details_courses_card",children:new Date(null===(m=e.course)||void 0===m?void 0:m.created_at).toLocaleDateString()})]})]})]})})},s),null!==e.testBank_id&&(0,d.jsx)("div",{className:"col-lg-4 col-md-6 col-sm-12",children:(0,d.jsx)(l.N_,{style:{textDecoration:"none"},to:"/questiondetails/".concat(null===(h=e.TestBank)||void 0===h?void 0:h.id),children:(0,d.jsxs)("div",{className:"card card_cont",children:[(0,d.jsx)("img",{src:o,className:"card-img-top img-fluid card_img",alt:null===(v=e.TestBank)||void 0===v?void 0:v.testBankCourse_name,loading:"lazy"}),(0,d.jsxs)("div",{className:"card-body",children:[(0,d.jsx)("div",{children:(0,d.jsx)("p",{className:"card-text card_dep",children:(null===(x=e.TestBank)||void 0===x?void 0:x.semester)||"No semester Available"})}),(0,d.jsx)("div",{className:"d-flex justify-content-between",children:(0,d.jsx)("p",{className:"course_title_card",children:null===(j=e.TestBank)||void 0===j?void 0:j.testBankCourse_name})}),(0,d.jsx)("hr",{style:{marginTop:"1px"}}),(0,d.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,d.jsx)("i",{className:"fa-solid fa-file card_icon",style:{color:"#f8c36e"}}),(0,d.jsx)("p",{className:"details_courses_card",children:"\u0628\u0646\u0643 \u0627\u0633\u0626\u0644\u0629"}),(0,d.jsx)("i",{className:"fa-solid fa-graduation-cap card_icon",style:{color:"#f8c36e"}}),(0,d.jsxs)("p",{className:"details_courses_card",children:["\u0639\u062f\u062f \u0627\u0644\u0645\u0648\u0627\u0636\u064a\u0639:"," ",null===(_=e.TestBank)||void 0===_||null===(f=_.Units)||void 0===f?void 0:f.reduce(((e,s)=>{var a;return e+((null===(a=s.Topics)||void 0===a?void 0:a.length)||0)}),0)]})]})]})]})})},s)]})}))})})]})}},9661:(e,s,a)=>{e.exports=a.p+"static/media/corsee.4f9b650451891382b215.webp"}}]);
//# sourceMappingURL=591.a551b08a.chunk.js.map